CREATE DATABASE unit10;
CREATE TABLE locations (id serial PRIMARY KEY, name text UNIQUE NOT NULL);
CREATE TABLE routes (id serial PRIMARY KEY, from_id integer, to_id integer, cost INTEGER, FOREIGN KEY (from_id) REFERENCES locations(id), FOREIGN KEY (to_id) REFERENCES locations(id));
CREATE TABLE problems (id serial PRIMARY KEY, from_id integer, to_id integer, FOREIGN KEY (from_id) REFERENCES locations(id), FOREIGN KEY (to_id) REFERENCES locations(id));
CREATE TABLE solutions (problem_id integer PRIMARY KEY, cost INTEGER DEFAULT NULL, FOREIGN KEY (problem_id) REFERENCES problems(id));

INSERT INTO locations(id,name) VALUES (1,'gdansk');
INSERT INTO locations(id,name) VALUES (2,'bydgoszcz');
INSERT INTO locations(id,name) VALUES (3,'torun');
INSERT INTO locations(id,name) VALUES (4,'warszawa');
INSERT INTO routes(from_id,to_id,cost) VALUES (1,2,1);
INSERT INTO routes(from_id,to_id,cost) VALUES (1,3,3);
INSERT INTO routes(from_id,to_id,cost) VALUES (2,1,1);
INSERT INTO routes(from_id,to_id,cost) VALUES (2,3,1);
INSERT INTO routes(from_id,to_id,cost) VALUES (2,4,4);
INSERT INTO routes(from_id,to_id,cost) VALUES (3,1,3);
INSERT INTO routes(from_id,to_id,cost) VALUES (3,2,1);
INSERT INTO routes(from_id,to_id,cost) VALUES (3,4,1);
INSERT INTO routes(from_id,to_id,cost) VALUES (4,2,4);
INSERT INTO routes(from_id,to_id,cost) VALUES (4,3,1);
INSERT INTO problems(from_id,to_id) VALUES (1,4);
INSERT INTO problems(from_id,to_id) VALUES (2,4);